<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/30/事件驱动编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/30/事件驱动编程/" itemprop="url">事件驱动编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-30T22:40:26+08:00">
                2018-05-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>多线程执行时遇到加载缓慢耗时的任务时就会分配给其他线程来执行，而单线程则是通过异步分配给客户端处理再返回给主进程发出从而完成任务。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> <span class="function"><span class="title">test</span></span>() &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="title">function</span></span>() &#123; console.log(1) &#125;, 0); </span><br><span class="line">    new Promise(<span class="keyword">function</span>(resolve) &#123;</span><br><span class="line">        console.log(2);</span><br><span class="line">        <span class="keyword">for</span> (var i = 0; i &lt; 10000; i++) &#123;</span><br><span class="line">            i == 9999 &amp;&amp; resolve();</span><br><span class="line">        &#125;</span><br><span class="line">        console.log(3);</span><br><span class="line">    &#125;).<span class="keyword">then</span>(<span class="function"><span class="title">function</span></span>() &#123; </span><br><span class="line">        console.log(4);</span><br><span class="line">        new Promise(<span class="keyword">function</span>(resolve) &#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="title">function</span></span>() &#123; </span><br><span class="line">                resolve();</span><br><span class="line">                console.log(5);</span><br><span class="line">            &#125;, 0);</span><br><span class="line">            console.log(6);</span><br><span class="line">        &#125;).<span class="keyword">then</span>(<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">            console.log(7); </span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(8);</span><br><span class="line">    <span class="built_in">return</span> 9;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>就这个例子讲事件驱动编程，任务执行分为主任务，宏观任务和微观任务，主任务最优先，其次是微观任务再其次宏观任务。<br>首先，setTimeout调用webikt的timer模块，执行setTimeout，把回调函数加入消息队列，<br>第二步执行 new Promise主线，所以第一个返回2，resolve()是微观任务，所以先返回3，第二个返回的是3，然后执行console.log(8),第三个返回的是8，然后执行微观任务resolve()，执行第一个then,返回4，setTimeout执行，resolve()和console.log(5)加入消息队列，所以先执行console.log(6)，返回6，<br>好了现在所有的事件回调都在消息队列里了，所以先返回 9，这个时候主任务要执行返回消息的任务了，按顺序先是console.log(1)，返回1，接着是console.log(5),返回5，然后是resolve()，返回console.log(7);所以顺序是2，3，8，4，6，9，1，5，7</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/29/express-mongodb-nodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/29/express-mongodb-nodejs/" itemprop="url">express&mongodb&nodejs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-29T15:12:12+08:00">
                2018-05-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>浅谈node.js写服务端</p>
<p>mac下安装mongodb<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//进入 /usr/<span class="built_in">local</span></span><br><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">// 下载</span><br><span class="line">$ sudo curl -O https://fastdl.mongodb.org/osx/mongodb-osx-x86_64-3.4.2.tgz</span><br><span class="line">//解压</span><br><span class="line">$ sudo tar -zxvf mongodb-osx-x86_64-3.4.2.tgz</span><br><span class="line">//改名字</span><br><span class="line">$ sudo mv mongodb-osx-x86_64-3.4.2 mongodb</span><br></pre></td></tr></table></figure></p>
<p>打开 .bash_profile</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//进入 ~</span><br><span class="line">$ <span class="built_in">cd</span> ~</span><br><span class="line">//配置环境变量</span><br><span class="line">$ vim .bash_profile</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/bin:/usr/bin:/bin:/usr/sbin:/sbin</span><br><span class="line"></span><br><span class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home</span><br><span class="line"></span><br><span class="line">CLASSPAHT=.:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line"></span><br><span class="line">PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span>:</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> MONGODB_HOME</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CLASSPATH</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH</span><br><span class="line">//增加这条</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/mongodb/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>:wq保存退出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> .bash_profile</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//全局安装express</span><br><span class="line">$ cnpm install express -g</span><br><span class="line">//全局安装express生成器</span><br><span class="line">$ cnpm install express-generator -g</span><br><span class="line">//自动生成 express 文件</span><br><span class="line">$ express -e blog</span><br><span class="line">//进入blog</span><br><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line">//下载资源</span><br><span class="line">$ cnpm i</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//安装 mongoose</span><br><span class="line">$ cnpm i mongoose</span><br></pre></td></tr></table></figure>
<p>修改mongodb数据库<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//启动mongod</span><br><span class="line">$ sudo mongod</span><br></pre></td></tr></table></figure></p>
<p>//另起一个命令窗<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">zhangyudeMacBook-Pro:~ zhangyu$ mongo</span><br><span class="line">MongoDB shell version v3.4.2</span><br><span class="line">connecting to: mongodb://127.0.0.1:27017</span><br><span class="line">MongoDB server version: 3.4.2</span><br><span class="line">Server has startup warnings: </span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] </span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled <span class="keyword">for</span> the database.</span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.</span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] ** WARNING: You are running this process as the root user, <span class="built_in">which</span> is not recommended.</span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] </span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] </span><br><span class="line">2018-05-29T15:27:07.076+0800 I CONTROL  [initandlisten] ** WARNING: soft rlimits too low. Number of files is 256, should be at least 1000</span><br><span class="line">&gt; use blog</span><br><span class="line">switched to db blog</span><br><span class="line">&gt; db.users.insert(&#123;<span class="string">"name"</span>:<span class="string">"xiaoxue"</span>,<span class="string">"email"</span>:<span class="string">"zhang@163.com"</span>,<span class="string">"age"</span>:<span class="string">"24"</span>&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nInserted"</span> : 1 &#125;)</span><br><span class="line">&gt; show tables</span><br><span class="line">users</span><br><span class="line">&gt; db.user.find()</span><br><span class="line">&gt; db.users.find()</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5b0cf68542ca14b86d792dd2"</span>), <span class="string">"name"</span> : <span class="string">"zhangyu"</span>, <span class="string">"email"</span> : <span class="string">"1135530809@qq.com"</span>, <span class="string">"age"</span> : <span class="string">"26"</span> &#125;</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5b0d0150357add046b9a0f5a"</span>), <span class="string">"name"</span> : <span class="string">"xiaoxue"</span>, <span class="string">"email"</span> : <span class="string">"zhang@163.com"</span>, <span class="string">"age"</span> : <span class="string">"24"</span> &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
<p>可以看到里面有两条数据<br>修改 route/index.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">var express = require(<span class="string">'express'</span>);</span><br><span class="line"></span><br><span class="line">var router = express.Router();</span><br><span class="line"></span><br><span class="line">var mongoose = require(<span class="string">'mongoose'</span>);</span><br><span class="line"></span><br><span class="line">mongoose.Promise = global.Promise;</span><br><span class="line"></span><br><span class="line">var conn = mongoose.connection.openUri(<span class="string">'mongodb://127.0.0.1:27017/blog'</span>);</span><br><span class="line"></span><br><span class="line">var User = new mongoose.Schema(&#123;</span><br><span class="line">  name: String,</span><br><span class="line">  email: String,</span><br><span class="line">  age: String</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">var myModel = conn.model(<span class="string">'user'</span>, User);</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/'</span>, <span class="keyword">function</span> (req, res, next) &#123;</span><br><span class="line">  myModel.findOne(&#123; name: <span class="string">"zhangyu"</span> &#125;, <span class="keyword">function</span> (err, user) &#123;</span><br><span class="line">    console.log(user);</span><br><span class="line">    res.render(<span class="string">'index'</span>, &#123; title: <span class="string">'Express'</span>, user: user &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">module.exports = router;</span><br></pre></td></tr></table></figure></p>
<p>//修改 views/index.ejs<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">    &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;</span><br><span class="line">   &lt;p&gt;&lt;%= user.name %&gt;&lt;/p&gt;</span><br><span class="line">   &lt;p&gt;&lt;%= user.email %&gt;&lt;/p&gt;</span><br><span class="line">   &lt;p&gt;&lt;%= user.age %&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm start</span><br></pre></td></tr></table></figure>
<p><img src="/2018/05/29/express-mongodb-nodejs/ceshi.jpeg" alt="success"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/27/redux-antd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/redux-antd/" itemprop="url">redux&antd</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-27T23:17:41+08:00">
                2018-05-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>现在用的UI框架是antd,技术框架用的react,这期东西写完之后做一下积累。<br>用redux+antd来完成表单验证。<br>首先要建三个文件,actions.js,actionTypes.js,reducers.js<br>actions.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ./</span><br><span class="line">$ mkdir actions</span><br><span class="line">$ <span class="built_in">cd</span> actions</span><br><span class="line">$ touch actions.js</span><br></pre></td></tr></table></figure></p>
<p>这个文件是放函数的。</p>
<p>actionTypes.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// ./</span><br><span class="line">$ touch actionTypes.js</span><br></pre></td></tr></table></figure></p>
<p>这个文件是放派发类型的</p>
<p>reducers.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ./</span><br><span class="line">$ mkdir reducers</span><br><span class="line">$ <span class="built_in">cd</span> reducers</span><br><span class="line">$ touch reducers.js</span><br></pre></td></tr></table></figure></p>
<p>这个文件是处理action之后的数据的.</p>
<p>简单的用login的表单来进行积累。</p>
<p>login.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">// ./login.js</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import React, &#123; Component &#125; from <span class="string">'react'</span>;</span><br><span class="line">import PropTypes from <span class="string">'prop-types'</span>;</span><br><span class="line">import &#123; Form, Icon, Input, Button, Checkbox, message &#125; from <span class="string">'antd'</span>;</span><br><span class="line">const FormItem = Form.Item;</span><br><span class="line">class Login extends Component &#123;</span><br><span class="line">	constructor(props) &#123;</span><br><span class="line">		super(props)</span><br><span class="line">	&#125;</span><br><span class="line">	handleSubmit = (e) =&gt; &#123;</span><br><span class="line">		e.preventDefault();</span><br><span class="line">		this.props.form.validateFields((err, values) =&gt; &#123;</span><br><span class="line">			<span class="keyword">if</span> (!err) &#123;</span><br><span class="line">				message.success(<span class="string">'登录成功'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">		const &#123; getFieldDecorator &#125; = this.props.form;</span><br><span class="line">		<span class="built_in">return</span> (</span><br><span class="line">			&lt;div className=<span class="string">"ant-row login-container"</span>&gt;</span><br><span class="line">				&lt;div className=<span class="string">"login-wrap"</span>&gt;</span><br><span class="line">					&lt;div className=<span class="string">"title"</span>&gt;</span><br><span class="line">						&lt;i className=<span class="string">"iconfont icon-expressionicon logo"</span> /&gt;</span><br><span class="line">						&lt;span className=<span class="string">"name"</span>&gt;yuyou社区&lt;/span&gt;</span><br><span class="line">						&lt;Form onSubmit=&#123;this.handleSubmit&#125; className=<span class="string">"login-form"</span>&gt;</span><br><span class="line">							&lt;FormItem&gt;</span><br><span class="line">								&#123;getFieldDecorator(<span class="string">'username'</span>, &#123;</span><br><span class="line">									rules: [&#123; required: <span class="literal">true</span>, message: <span class="string">'Please input your username!'</span> &#125;],</span><br><span class="line">								&#125;)(</span><br><span class="line">									&lt;Input prefix=&#123;&lt;Icon <span class="built_in">type</span>=<span class="string">"user"</span> autoComplete=<span class="string">"off"</span> style=&#123;&#123; color: <span class="string">'rgba(0,0,0,.25)'</span> &#125;&#125; /&gt;&#125; placeholder=<span class="string">"Username"</span> /&gt;</span><br><span class="line">								)&#125;</span><br><span class="line">							&lt;/FormItem&gt;</span><br><span class="line">							&lt;FormItem&gt;</span><br><span class="line">								&#123;getFieldDecorator(<span class="string">'password'</span>, &#123;</span><br><span class="line">									rules: [&#123; required: <span class="literal">true</span>, message: <span class="string">'Please input your Password!'</span> &#125;],</span><br><span class="line">								&#125;)(</span><br><span class="line">									&lt;Input prefix=&#123;&lt;Icon <span class="built_in">type</span>=<span class="string">"lock"</span> autoComplete=<span class="string">"off"</span> style=&#123;&#123; color: <span class="string">'rgba(0,0,0,.25)'</span> &#125;&#125; /&gt;&#125; <span class="built_in">type</span>=<span class="string">"password"</span> placeholder=<span class="string">"Password"</span> /&gt;</span><br><span class="line">								)&#125;</span><br><span class="line">							&lt;/FormItem&gt;</span><br><span class="line">							&lt;FormItem&gt;</span><br><span class="line">								&lt;Button <span class="built_in">type</span>=<span class="string">"primary"</span> htmlType=<span class="string">"submit"</span> className=<span class="string">"login-form-button"</span>&gt;</span><br><span class="line">									登录</span><br><span class="line">              &lt;/Button&gt;</span><br><span class="line">							&lt;/FormItem&gt;</span><br><span class="line">						&lt;/Form&gt;</span><br><span class="line">					&lt;/div&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">const WrappedNormalLoginForm = Form.create(</span><br><span class="line">	&#123;</span><br><span class="line">		onFieldsChange(props, changedFields) &#123;</span><br><span class="line">			props.upDateLoginForm(changedFields)</span><br><span class="line">		&#125;,</span><br><span class="line">		mapPropsToFields(props) &#123;</span><br><span class="line">			const &#123; fields &#125; = props.login</span><br><span class="line">			<span class="built_in">return</span> &#123;</span><br><span class="line">				username: Form.createFormField(&#123;</span><br><span class="line">					...fields.username</span><br><span class="line">				&#125;),</span><br><span class="line">				password: Form.createFormField(&#123;</span><br><span class="line">					...fields.password</span><br><span class="line">				&#125;),</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">)(Login);</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default WrappedNormalLoginForm;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const &#123; getFieldDecorator &#125; = this.props.form;</span><br></pre></td></tr></table></figure>
<p>用const { getFieldDecorator } = this.props.form 来从form 引入getFieldDecorator，getFieldDecorator的作用是用于和表单进行双向绑定。</p>
<p>以下是antd官网解释。</p>
<p>经过 getFieldDecorator 包装的控件，表单控件会自动添加 value（或 valuePropName 指定的其他属性） onChange（或 trigger 指定的其他属性），数据同步将被 Form 接管，这会导致以下结果：</p>
<p>1、你不再需要也不应该用 onChange 来做同步，但还是可以继续监听 onChange 等事件。</p>
<p>2、你不能用控件的 value defaultValue 等属性来设置表单域的值，默认值可以用 getFieldDecorator 里的 initialValue。</p>
<p>3、你不应该用 setState，可以使用 this.props.form.setFieldsValue 来动态改变表单值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;FormItem&gt;</span><br><span class="line">    &#123;getFieldDecorator(<span class="string">'password'</span>, &#123;</span><br><span class="line">        rules: [&#123; required: <span class="literal">true</span>, message: <span class="string">'Please input your Password!'</span> &#125;],</span><br><span class="line">    &#125;)(</span><br><span class="line">        &lt;Input prefix=&#123;&lt;Icon <span class="built_in">type</span>=<span class="string">"lock"</span> autoComplete=<span class="string">"off"</span> style=&#123;&#123; color: <span class="string">'rgba(0,0,0,.25)'</span> &#125;&#125; /&gt;&#125; <span class="built_in">type</span>=<span class="string">"password"</span> placeholder=<span class="string">"Password"</span> /&gt;</span><br><span class="line">    )&#125;</span><br><span class="line">&lt;/FormItem&gt;</span><br></pre></td></tr></table></figure>
<p>getFieldDecorator接收两个参数，一个是值，另外一个是规则，包括rules，trigger等，详情可以见antd官网。<br>值得一提的是 设置trigger为false就不会收集值。<br>另外比较重要的是必须包裹在<formitem>标签里，表单验证信息才会出现。<br>rules还可以接收函数,如下所示。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rules:[</span><br><span class="line">	&#123;</span><br><span class="line">		validator：this.checkLogin</span><br><span class="line">	&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></formitem></p>
<p>之后使用Form的create方法，里面可以使用对象的形式传入配置项。这里使用到了mapPropsToFields，<br>onFieldsChange,其他的方法请见官网的描述.<br>在 onFieldsChange中获取到当前改变的值之后传递到Redux store里，用 mapPropsToFields把值从Redux store里读出来，返回给表单的标记。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const WrappedNormalLoginForm = Form.create(</span><br><span class="line">	&#123;</span><br><span class="line">		onFieldsChange(props, changedFields) &#123;</span><br><span class="line">			props.upDateLoginForm(changedFields)</span><br><span class="line">		&#125;,</span><br><span class="line">		mapPropsToFields(props) &#123;</span><br><span class="line">			const &#123; fields &#125; = props.login</span><br><span class="line">			<span class="built_in">return</span> &#123;</span><br><span class="line">				username: Form.createFormField(&#123;</span><br><span class="line">					...fields.username</span><br><span class="line">				&#125;),</span><br><span class="line">				password: Form.createFormField(&#123;</span><br><span class="line">					...fields.password</span><br><span class="line">				&#125;),</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">)(Login);</span><br></pre></td></tr></table></figure></p>
<p>好了，那么username和 password的值从哪里来？<br>upDateLoginForm从哪儿来？<br>做完这些事情之后我们回到最初的三个文件，<br>// ./actionTypes.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// ./actionTypes.js</span><br><span class="line"><span class="built_in">export</span> const UP_DATE_LOGIN_FORM = <span class="string">'login/UP_DATE_LOGIN_FORM'</span>;</span><br></pre></td></tr></table></figure></p>
<p>在actionTypes.js里定义action的type类型</p>
<p>// ./actions/actions.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// ./actions/actions.js</span><br><span class="line">import &#123;</span><br><span class="line">    UP_DATE_LOGIN_FORM</span><br><span class="line">&#125; from <span class="string">'./actionTypes'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> const upDateLoginForm = (fields) =&gt; &#123;</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        <span class="built_in">type</span>: UP_DATE_LOGIN_FORM,</span><br><span class="line">        fields</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>把upDateLoginForm方法暴露到props里去，upDateLoginForm接收一个变量，这个变量就是表单的当前变化量。<br>这里的upDateLoginForm就是login.js里面所用到的。<br>// ./<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> reducers</span><br><span class="line">$ touch initialState.js</span><br></pre></td></tr></table></figure></p>
<p>创建一个名为 initialState.js的文件来存储初始值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// ./reducers/initialState.js</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">    login: &#123;</span><br><span class="line">        fields: &#123;</span><br><span class="line">            username:<span class="string">''</span>,</span><br><span class="line">            password:<span class="string">''</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里的username和password就是之前需要用到的。<br>然后在 reducers.js里引入初始值<br>// ./<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// ./reducers/reducers.js</span><br><span class="line">import initialState from <span class="string">'./initialState'</span>;</span><br><span class="line"></span><br><span class="line">import &#123;</span><br><span class="line">    UP_DATE_LOGIN_FORM</span><br><span class="line">&#125; from <span class="string">'../actions/actionTypes'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> const login = (state=initialState.login,action)=&gt; &#123;</span><br><span class="line">    switch(action.type) &#123;</span><br><span class="line">        <span class="keyword">case</span> UP_DATE_LOGIN_FORM:</span><br><span class="line">        <span class="built_in">return</span> Object.assign(&#123;&#125;,state,&#123;</span><br><span class="line">            fields:&#123;</span><br><span class="line">                ...state.fields,</span><br><span class="line">                ...action.fields</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        default:</span><br><span class="line">        <span class="built_in">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>从actionTypes引入UP_DATE_LOGIN_FORM。<br>当类型为 UP_DATE_LOGIN_FORM时，改变 state,传入action里流过来的aciton.fields的值。<br>好了，这些文件都配置好了，那么如何把他们贯穿起来呢，<br>这个时候就需要用到connect和bindActionCreators。<br>connect的作用是连接react组件和redux store，并且它能够传入两个参数mapStateToProps和mapDispatchToProps。<br>bindActionCreators的作用是将一个或多个action和dispatch组合起来生成mapDispatchToProps需要生成的内容。</p>
<p>这边不在login里面直接使用connect，新建了一个文件夹保持代码的整洁。</p>
<p>./<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch view.js</span><br></pre></td></tr></table></figure></p>
<p>在此声明，全篇路径可能有出入，可以直接看我的github代码。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// ./view.js</span><br><span class="line">import React, &#123; Component, PropTypes &#125; from <span class="string">'react'</span>;</span><br><span class="line">import &#123; connect &#125; from <span class="string">'react-redux'</span>;</span><br><span class="line">import Login from <span class="string">'./Login'</span>;</span><br><span class="line">import * as actions from <span class="string">'../../actions/actions'</span>;</span><br><span class="line">import &#123; bindActionCreators &#125; from <span class="string">'redux'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const mapStateToProps = (state) =&gt; &#123;</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        ...state</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps = (dispatch) =&gt; &#123;</span><br><span class="line">    <span class="built_in">return</span> Object.assign(&#123;&#125;,</span><br><span class="line">        bindActionCreators(actions, dispatch),</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">export</span> default connect(mapStateToProps, mapDispatchToProps)(Login);</span><br></pre></td></tr></table></figure></p>
<p>这样，action和state就和props绑定了。</p>
<p>那么似乎少了什么，对，少了顶层容器Provider和store。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import rootReducer from <span class="string">'./rootReducer'</span>;</span><br><span class="line">import &#123; createStore &#125; from <span class="string">'redux'</span>;</span><br><span class="line">const store = createStore(</span><br><span class="line">        rootReducer</span><br><span class="line">    );</span><br><span class="line"><span class="built_in">export</span> default store;</span><br></pre></td></tr></table></figure>
<p>话说，reducer是可以传入多个reducer的，所以这里用的是rootReducer</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// ./rootReducer.js</span><br><span class="line">import &#123; routerReducer &#125; from <span class="string">'react-router-redux'</span>;</span><br><span class="line">import &#123; combineReducers &#125; from <span class="string">'redux'</span>;</span><br><span class="line">import &#123; login &#125; from <span class="string">'../../../reducers/reducer'</span>;</span><br><span class="line">const rootReducer = combineReducers(&#123;</span><br><span class="line">    routing: routerReducer,</span><br><span class="line">    login</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default rootReducer;</span><br></pre></td></tr></table></figure>
<p>routerReducer是传入的路由的reducer。<br>login就是之前创建的reducer。(./reducers/reducers.js)</p>
<p>好最重要的Provider，因为所有的东西都需要在这个底下才能运行，所以最上层容器是很关键的。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from <span class="string">'react'</span>;</span><br><span class="line">import PropTypes from <span class="string">'prop-types'</span>;</span><br><span class="line">import &#123; Provider &#125; from <span class="string">'react-redux'</span>;</span><br><span class="line">import DevTools from <span class="string">'../utils/DevTools'</span>;</span><br><span class="line">import &#123; Router &#125; from <span class="string">'react-router'</span>;</span><br><span class="line">import ErrorBoundary from <span class="string">'./ErrorBoundary'</span>;</span><br><span class="line">import &#123; LocaleProvider &#125; from <span class="string">'antd'</span>;</span><br><span class="line">import zhCN from <span class="string">'antd/lib/locale-provider/zh_CN'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default class Root extends Component &#123;</span><br><span class="line">	<span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">		const &#123; store, <span class="built_in">history</span>, routes &#125; = this.props;</span><br><span class="line">		<span class="built_in">return</span> (</span><br><span class="line">			&lt;ErrorBoundary&gt;</span><br><span class="line">				&lt;LocaleProvider locale=&#123;zhCN&#125;&gt;</span><br><span class="line">					&lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">						&lt;div className=<span class="string">"dev-react-root"</span>&gt;</span><br><span class="line">							&lt;Router <span class="built_in">history</span>=&#123;<span class="built_in">history</span>&#125; routes=&#123;routes&#125; /&gt;</span><br><span class="line">							&lt;DevTools /&gt;</span><br><span class="line">						&lt;/div&gt;</span><br><span class="line">					&lt;/Provider&gt;</span><br><span class="line">				&lt;/LocaleProvider&gt;</span><br><span class="line">			&lt;/ErrorBoundary&gt;</span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">Root.propTypes = &#123;</span><br><span class="line">	store: PropTypes.object.isRequired,</span><br><span class="line">	<span class="built_in">history</span>: PropTypes.object.isRequired,</span><br><span class="line">	routes: PropTypes.object.isRequired</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>不关键的代码大家可以忽略(都是一些控制报错，console.log的检验工具），Provider里面需要传入刚才暴露出来的store。<br>好了，就酱紫吧。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/22/了解一下vuepress/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/22/了解一下vuepress/" itemprop="url">了解一下vuepress</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-22T13:34:33+08:00">
                2018-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>VuePress 由两部分组成：一部分是支持用 Vue 开发主题的极简静态网站生成器，另一个部分是为书写技术文档而优化的默认主题。它的诞生初衷是为了支持 Vue 及其子项目的文档需求。</p>
<p>每一个由 VuePress 生成的页面都带有预渲染好的 HTML，也因此具有非常好的加载性能和搜索引擎优化（SEO）。同时，一旦页面被加载，Vue 将接管这些静态内容，并将其转换成一个完整的单页应用（SPA），其他的页面则会只在用户浏览到的时候才按需加载。</p>
<h2 id="它是如何工作的？"><a href="#它是如何工作的？" class="headerlink" title="它是如何工作的？"></a>它是如何工作的？</h2><p>事实上，一个 VuePress 网站是一个由 Vue、Vue Router 和 webpack 驱动的单页应用。如果你以前使用过 Vue 的话，当你在开发一个自定义主题的时候，你会感受到非常熟悉的开发体验，你甚至可以使用 Vue DevTools 去调试你的自定义主题。</p>
<p>在构建时，我们会为应用创建一个服务端渲染（SSR）的版本，然后通过虚拟访问每一条路径来渲染对应的HTML。这种做法的灵感来源于 Nuxt 的 nuxt generate 命令，以及其他的一些项目，比如 Gatsby。</p>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>为技术文档而优化的 内置 Markdown 拓展<br>在 Markdown 文件中使用 Vue 组件的能力<br>Vue 驱动的自定义主题系统<br>自动生成 Service Worker<br>Google Analytics 集成<br>多语言支持<br>默认主题包含：<br>响应式布局<br>可选的主页<br>简洁的开箱即用的标题搜索<br>可以自定义的导航栏（navbar）和侧边栏（sidebar）<br>自动生成的 GitHub 链接和页面的编辑链接</p>
<h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>vuepress是个静态页面编辑器<br>用vuepress 来写文档 踩坑填坑<br>首先要下载 vuepress<br>这边有个坑，要用npm i 下载，如果用cnpm i 好像因为路径什么的兼容性问题没法找到依赖所以会报错。但是没有翻墙的话用npm下载实在是太慢了<br>我就用yarn<br>首先你要下载yarn<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i yarn -g</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn --version</span><br></pre></td></tr></table></figure>
<p>检查一下版本，如果有的话就可以了。<br>那么我们开始下载vuepress<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add -D vuepress</span><br><span class="line">$ mkdir docs</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"# Hello VuePress!"</span> &gt; docs/README.md</span><br></pre></td></tr></table></figure></p>
<p>npx vuepress dev docs</p>
<p>在package.json 里面<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"scripts"</span>:&#123;</span><br><span class="line">        <span class="string">"docs:dev"</span>:<span class="string">"vuepress dev docs"</span>,</span><br><span class="line">        <span class="string">"docs:build"</span>:<span class="string">"vuepress build docs"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>本地运行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn docs:dev</span><br></pre></td></tr></table></figure></p>
<p>打包成html文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn docs:build</span><br></pre></td></tr></table></figure></p>
<p>在docs文件夹下面创建 config.js来配置需要的东西<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//./docs/config.js</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  base: <span class="string">'/vuetest/'</span>,//默认页面</span><br><span class="line">  title: <span class="string">'vuepress-test'</span>,//title</span><br><span class="line">  description: <span class="string">'随便写点什么'</span>,</span><br><span class="line">  themeConfig: &#123;</span><br><span class="line">    repo: <span class="string">'octopusccc1'</span>,//链接到你的github</span><br><span class="line">    nav: [//导航栏随便来点什么，链接到的文件都是markdown文件</span><br><span class="line">      &#123; text: <span class="string">'Home'</span>, link: <span class="string">'/'</span> &#125;,</span><br><span class="line">      &#123; text: <span class="string">'Guide'</span>, link: <span class="string">'/guide/'</span> &#125;,</span><br><span class="line">      &#123; text: <span class="string">'External'</span>, link: <span class="string">'https://google.com'</span> &#125;,</span><br><span class="line">     ],</span><br><span class="line">    sidebar: [//侧边栏也随便来点什么，</span><br><span class="line">      [<span class="string">'/'</span>, <span class="string">'介绍'</span>],</span><br><span class="line">      [<span class="string">'/getstart/'</span>, <span class="string">'起步'</span>],</span><br><span class="line">      [<span class="string">'/api/'</span>, <span class="string">'API文档'</span>],</span><br><span class="line">      [<span class="string">'/example/'</span>, <span class="string">'示例'</span>]</span><br><span class="line"></span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>创建文件夹及md<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir api example getstart guide</span><br></pre></td></tr></table></figure></p>
<p>然后每个文件夹下面都创建一个md<br>//空的也没事，或者随便写点儿啥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch README.md</span><br></pre></td></tr></table></figure></p>
<p>好了，这样目录就创建好了，然后随便找个md随便写点儿啥<br>因为用的也是md文档所以别的不提了，但是有vue的独特之处<br>比方说可以用vue的指令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;sapn v-for=<span class="string">"i in 3"</span>&gt;&#123;&#123;i&#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure></p>
<p>输出出来是<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br></pre></td></tr></table></figure></p>
<p>访问网站页面的数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;<span class="variable">$page</span>&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>输出是<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="string">"path"</span>: <span class="string">"/"</span>, <span class="string">"headers"</span>: [ &#123; <span class="string">"level"</span>: 2, <span class="string">"title"</span>: <span class="string">":tada: :100:"</span>, <span class="string">"slug"</span>: <span class="string">"tada-100"</span> &#125;, &#123; <span class="string">"level"</span>: 2, <span class="string">"title"</span>: <span class="string">"122"</span>, <span class="string">"slug"</span>: <span class="string">"_122"</span> &#125; ], <span class="string">"frontmatter"</span>: &#123;&#125; &#125;</span><br></pre></td></tr></table></figure></p>
<p>还可以直接传自定义组件<br>但是得在.vuepress 的components 下面创建<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// └─ .vuepress</span><br><span class="line">//    └─ components</span><br><span class="line">//       └─ home.vue</span><br><span class="line">// home.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">啦啦啦</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>在md里面写上<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;home/&gt;</span><br></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">啦啦啦</span><br></pre></td></tr></table></figure></p>
<p>连接 git <a href="https://github.com/octopusccc1/testvuepress" target="_blank" rel="noopener">我的demo</a>.<br>好了，别的不写了，去看一下我写的demo好了，附上图<br><img src="/2018/04/22/了解一下vuepress/ceshi.jpg" alt="success"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/19/jsdoc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/jsdoc/" itemprop="url">学习一下jsDoc</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T13:32:34+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>jsDoc 能自动把注释编译成文档哦！🍎<br>首先是要下载jsDoc咯！<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i jsDoc  -g</span><br></pre></td></tr></table></figure></p>
<p>然后创建一个js</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch add.js</span><br></pre></td></tr></table></figure>
<p>写上一些代码。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> add(a,b)&#123;</span><br><span class="line">    <span class="built_in">return</span> a+b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里推荐Document This(VSCode的注释插件，记得改快捷键，因为和mac原生的dock快捷键冲突呀😭)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * </span><br><span class="line"> * </span><br><span class="line"> * @param &#123;any&#125; a </span><br><span class="line"> * @param &#123;any&#125; b </span><br><span class="line"> * @returns</span><br><span class="line"> * @author Louis Zhang &lt;1135530809@qq.com&gt;</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">function</span> add(a,b)&#123;</span><br><span class="line">    <span class="built_in">return</span> a+b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后运行一下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jsdoc ./</span><br></pre></td></tr></table></figure></p>
<p>就会输出在out文件下了，打开里面的index.html就会编译出文档了<br><img src="/2018/04/19/jsdoc/success.jpeg" alt="success"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/19/less的mixin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/less的mixin/" itemprop="url">less的mixin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T10:21:55+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这篇学习mixin混合集<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.a,.b &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.octo &#123;</span><br><span class="line">    .a();</span><br><span class="line">&#125;</span><br><span class="line">.octo2 &#123;</span><br><span class="line">    .b();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.a,.b &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.octo &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.octo2 &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>.a,.b的括号是可选的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.octo &#123;</span><br><span class="line">    .a();</span><br><span class="line">&#125;</span><br><span class="line">//等同于</span><br><span class="line">.octo &#123;</span><br><span class="line">    .a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果创建一个混合集，但是不想直接输出在样式上可以写成a(){}。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.mm &#123;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="function"><span class="title">mmc</span></span>() &#123;</span><br><span class="line">    background: blue;</span><br><span class="line">&#125;</span><br><span class="line">.mmb &#123;</span><br><span class="line">    .mm;</span><br><span class="line">    .mmc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.mm &#123;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br><span class="line">.mmb &#123;</span><br><span class="line">    color: black;</span><br><span class="line">    background: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>带选择器的混合集<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.<span class="function"><span class="title">mm</span></span>()&#123;</span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">        border: 1px solid red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.cc &#123;</span><br><span class="line">    .mm();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.cc:hover &#123;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>带参数的混合集,也可传多个参数<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.mm(@color)&#123;</span><br><span class="line">    color: @color;</span><br><span class="line">&#125;</span><br><span class="line">.cc &#123;</span><br><span class="line">    .mm(red);</span><br><span class="line">&#125;</span><br><span class="line">.dd &#123;</span><br><span class="line">    .mm(black);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.cc &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.dd &#123;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>defalut值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.mm(@color:red)&#123;</span><br><span class="line">    color: @color;</span><br><span class="line">&#125;</span><br><span class="line">.cc &#123;</span><br><span class="line">    .mm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.cc &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>@arguments<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.box-shadow(@x:0;@y:0;@blur:1px;@color: <span class="comment">#000)&#123;</span></span><br><span class="line">    box-shadow: @arguments;</span><br><span class="line">&#125;</span><br><span class="line">.big &#123;</span><br><span class="line">    .box-shadow(2px;5px)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出 :<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.big&#123;</span><br><span class="line">     box-shadow: 2px 5px 1px <span class="comment">#000;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>作用域<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.<span class="function"><span class="title">mixin</span></span> () &#123;</span><br><span class="line">    @width: 100%;</span><br><span class="line">    @height: 200px;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="built_in">caller</span> &#123;</span><br><span class="line">    .mixin();</span><br><span class="line">    width: @width;</span><br><span class="line">    height: @height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.<span class="built_in">caller</span> &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>也可以<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.average(@x,@y)&#123;</span><br><span class="line">    @average:((@x+@y)/2);</span><br><span class="line">&#125;</span><br><span class="line">.aaa &#123;</span><br><span class="line">    .average(16px,50px);</span><br><span class="line">    padding:@average</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ps: 未声明参数（没有默认值的参数）与未申明参数之间用”,”<br>    已申明参数（有默认值的参数)与已声明参数之间用”;”分隔</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/19/less的extend/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/less的extend/" itemprop="url">less的extend</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-19T09:56:37+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>学习一下less<br>less 的extend类似于伪类<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.octo &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.cotopus &#123;</span><br><span class="line">    &amp;:extend(.octo);</span><br><span class="line">&#125;</span><br><span class="line">.octopusc:extend(.octo) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.octo,.cotopus,.octopusc &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以嵌套多层的选择器<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.octo span&#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.cotopus &#123;</span><br><span class="line">    &amp;:extend(.octo span)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.octo span,</span><br><span class="line">.cotopus &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>存在一些坑</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.octo .octopu &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.octopus &#123;</span><br><span class="line">    &amp;:extend(.octopu);//这样写是错误的</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@myClass: .octo;</span><br><span class="line">@&#123;myClass&#125;&#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.clll &#123;</span><br><span class="line">    color :red;</span><br><span class="line">&#125;</span><br><span class="line">.cooo:extend(.octo) //错误</span><br><span class="line">.cooo:extend(@&#123;myClass&#125;)//错误</span><br><span class="line">.cooo:extend(.clll)//正确</span><br></pre></td></tr></table></figure>
<p>关于@media,同一个媒体查询下面的可被继承<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@media <span class="built_in">print</span> &#123;</span><br><span class="line">    .pp:extend(.sele)</span><br><span class="line">    .sele &#123;</span><br><span class="line">        color: black;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.sele &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">@media screen &#123;</span><br><span class="line">    .sele &#123;</span><br><span class="line">        color:blue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>编译后<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@media <span class="built_in">print</span> &#123;</span><br><span class="line">    .pp,</span><br><span class="line">    .sele &#123;</span><br><span class="line">        color: black;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.sele &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">@media screen &#123;</span><br><span class="line">    .sele &#123;</span><br><span class="line">        color:blue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>重复问题<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.class1,.class2 &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">.class3:extend(.class1,.class2)</span><br></pre></td></tr></table></figure></p>
<p>编译后<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.class1,</span><br><span class="line">.class2,</span><br><span class="line">.class3,</span><br><span class="line">.class3 &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可见只填一个就可以不然就会重复</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/redux也写一下吧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/redux也写一下吧/" itemprop="url">redux也写一下吧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-18T17:44:31+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>作为react全家桶之一的redux怎么可以少呢?<br>redux写法多样，而我只会一种！<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i react-redux redux --save-dev</span><br></pre></td></tr></table></figure></p>
<p>直接上代码，毕竟我觉得说那么多一堆好处没什么用，重点是积累。。。🍏</p>
<p>现在你的最上层文件，也就是一个容器，这个容器里面，redux都有效，可以自由的使用props</p>
<p>作为demo,当然是入口文件啦。。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//./src/index.js</span><br><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">import ReactDOM from <span class="string">'react-dom'</span>;</span><br><span class="line">import RouteMap from <span class="string">'./router/router'</span>;</span><br><span class="line">//引入Provider</span><br><span class="line">import &#123; Provider &#125; from <span class="string">'react-redux'</span>;</span><br><span class="line">//引入createStore</span><br><span class="line">import &#123; createStore &#125; from <span class="string">'redux'</span>;</span><br><span class="line">//这个是reducers,所有真正的属性改变都发生在这里</span><br><span class="line">import Reducers from <span class="string">'./component/FirstPage/Reducers'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> store = createStore(Reducers)</span><br><span class="line">class App extends React.Component &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">            //容器</span><br><span class="line">            &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">                 &lt;RouteMap/&gt;</span><br><span class="line">            &lt;/Provider&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(&lt;App/&gt;,document.getElementById(<span class="string">"react-app"</span>))</span><br></pre></td></tr></table></figure>
<p>实现一个加加减减的功能<br>首先看Reducers里<br>state是传过来的属性，action是传过来的方法（方法名？？或者说真实的方法）。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//./src/component/FirstPage/Reducers.js</span><br><span class="line"></span><br><span class="line">const Reducers = (state = &#123; count: 0, themeColor: <span class="string">'blue'</span> &#125;, action) =&gt; &#123;</span><br><span class="line">    const &#123; <span class="built_in">type</span> &#125; = action;</span><br><span class="line">    switch (<span class="built_in">type</span>) &#123;</span><br><span class="line">        //类型 INCREASE，count+1</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'INCREASE'</span>:</span><br><span class="line">            <span class="built_in">return</span> &#123; count: state.count + 1 &#125;;</span><br><span class="line">        //类型 DECREASE，count-1</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'DECREASE'</span>:</span><br><span class="line">            <span class="built_in">return</span> &#123; count: state.count - 1 &#125;;</span><br><span class="line">        default:</span><br><span class="line">            <span class="built_in">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> default Reducers;</span><br></pre></td></tr></table></figure></p>
<p>然后就是组件里了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//./src/component/FirstPage/FirstPage.js</span><br><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">引入 //connect</span><br><span class="line">import &#123; connect &#125; from <span class="string">'react-redux'</span>;</span><br><span class="line">引入 //bindActionCreators</span><br><span class="line">import &#123; bindActionCreators &#125; from <span class="string">'redux'</span>;</span><br><span class="line">//定义方法</span><br><span class="line">const actions = &#123;</span><br><span class="line">    increase: () =&gt; (&#123; <span class="built_in">type</span>: <span class="string">'INCREASE'</span> &#125;),</span><br><span class="line">    decrease: () =&gt; (&#123; <span class="built_in">type</span>: <span class="string">'DECREASE'</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line">//将state转变成容器里的props的方法</span><br><span class="line">const mapStateToProps = (state, ownProps) =&gt; &#123;</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        count: state.count</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//派发去props的方法</span><br><span class="line">const mapDispatchToProps = (dispatch, ownProps) =&gt; &#123;</span><br><span class="line">    <span class="built_in">return</span> Object.assign(&#123;&#125;,</span><br><span class="line">        bindActionCreators(actions, dispatch)</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">class FirstPage extends React.Component &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        const &#123; count,increase,decrease &#125; = this.props;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;div&gt;&#123;count&#125;&lt;/div&gt;</span><br><span class="line">                //使用方法的地方</span><br><span class="line">                &lt;button onClick=&#123;increase&#125;&gt;增加&lt;/button&gt;</span><br><span class="line">                &lt;button onClick =&#123;decrease&#125;&gt;减少&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//将组件作为参数通过connect,用两个方法暴露给容器</span><br><span class="line"><span class="built_in">export</span> default connect(mapStateToProps, mapDispatchToProps)(FirstPage);</span><br></pre></td></tr></table></figure>
<p>好了，npm start 一下吧;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/配置webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/配置webpack/" itemprop="url">配置webpack</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-18T16:31:08+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>作为一个萌新，配置出来的webpack肯定入不了大佬们的法眼，所以此篇文章目的在于积累！<br>在我眼中,webpack既是一个打包工具，也是一个架构工具，因为webpack里面可以配置很多自动化的东西，使我们的项目变得简洁，而作为小白的我也是只了解到了其中的九牛一毛。<br>直接上正文。<br>之前的文章中我也有提到，webpack本身的文件要支持es6语法的话，必须在根目录下配置一个.babelrc文件(因为是遇到的坑，所以写在前面,划重点)。<br>同时wbpack.config.js要命名为webpack.config.babel.js。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// .babelrc</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>:[<span class="string">"es2015"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接着我们来配置webpack<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">//引入node path</span><br><span class="line">import path from <span class="string">'path'</span>;</span><br><span class="line">import webpack from <span class="string">'webpack'</span>;</span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        //这里是入口文件</span><br><span class="line">        bundle: <span class="string">'./src/index.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        //这里是打包出来的文件</span><br><span class="line">        filename: <span class="string">'[name].js'</span>,</span><br><span class="line">        //path.resolve总是返回一个相当于当前工作目录的绝对路径</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'build'</span>),</span><br><span class="line">        publicPath: <span class="string">'/build/'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    module: &#123;</span><br><span class="line">        //这里可以配置loader</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">test</span>: /\.js$/,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'babel-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">test</span>: /\.less$/,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">'style-loader'</span></span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: <span class="string">'css-loader?'</span></span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: <span class="string">'less-loader?'</span></span><br><span class="line">                &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        //这里可以配置 webpack的中间键</span><br><span class="line">        new webpack.LoaderOptionsPlugin(&#123;</span><br><span class="line">            options: &#123;</span><br><span class="line">                babel: &#123;</span><br><span class="line">                    presets: [<span class="string">"es2015"</span>, <span class="string">"react"</span>, <span class="string">"stage-2"</span>]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    // 定义loader从哪里搜索</span><br><span class="line">    resolveLoader:&#123;</span><br><span class="line">        modules:[</span><br><span class="line">            <span class="string">'node_modules'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>思路不是很清晰，就想到什么说什么吧，<br>这里的话首先想讲的是resolve和resolveLoder的区别，<br>两者都是定义好了规则，使得webpack的搜索能变的有规律而迅速。<br>从字面是理解，resolve是搜索绝对路径下的文件的，<br>而resolveLoader是搜索绝对路径下的loader文件，比如你有一些本地的自定义loader，就可以把路径写到resolveLoader.modules下面。<br>比如你在根目录下的tools文件夹下面有一个loader<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">resolveLoader:&#123;</span><br><span class="line">    modules:[</span><br><span class="line">        path:resolve(_dirname,<span class="string">'tools/loader'</span>)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里要介绍一个自动化的插件 autoprefixer,它会自动检测各个浏览器的前缀并加上,<br>例如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &#123;</span><br><span class="line">    display:flex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>插件后<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a &#123;</span><br><span class="line">    display: -webkit-box;</span><br><span class="line">    display: -webkit-flex;</span><br><span class="line">    display: -ms-flexbox;</span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>记得要引入 postcss-loader。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i autoprefixer postcss-loader --save-dev</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import webpack from <span class="string">'webpack'</span>;</span><br><span class="line">import autoprefixer from <span class="string">'autoprefixer'</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#125;,</span><br><span class="line">plugins:[</span><br><span class="line">    new webpack.LoaderOptionsPlugin(&#123;</span><br><span class="line">        options:&#123;</span><br><span class="line">            postcss:[</span><br><span class="line">                autoprefixer();</span><br><span class="line">            ],</span><br><span class="line">            debug:<span class="literal">true</span>,</span><br><span class="line">            noInfo:<span class="literal">true</span> // <span class="built_in">set</span> to <span class="literal">false</span> to see a list of every file being bundled</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">],</span><br><span class="line">module: &#123;</span><br><span class="line">        //这里可以配置loader</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">test</span>: /\.js$/,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'babel-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">test</span>: /\.less$/,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">'style-loader'</span></span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: <span class="string">'css-loader?'</span></span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    loader: <span class="string">'postcss-loader?'</span></span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    loader: <span class="string">'less-loader?'</span></span><br><span class="line">                &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>先写到这里，下次想到什么再补充。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/写一下react-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="louis zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/写一下react-router/" itemprop="url">写一下react-router</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-18T13:43:27+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天写一个用react-router来完成一个单页面应用<br>基于之前的reactdemo来写，如果有需要的同学可以跳转，这里就不在复述了。<br>由于4+的版本Route写法不同，我还没有进行学习，所以这边使用的是3.0.5的版本。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i react-router@3.0.5 --save-dev</span><br></pre></td></tr></table></figure></p>
<p>首先我们要在src目录下建立一个component和router文件夹。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir component</span><br><span class="line">$ mkdir router</span><br></pre></td></tr></table></figure></p>
<p>进入component<br>创建路口文件Local<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> component </span><br><span class="line">$ touch Local.js</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//./src/component/Local.js</span><br><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">import &#123; Link &#125; from <span class="string">'react-router'</span>;</span><br><span class="line">class Local extends React.Component &#123;</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;Link to=<span class="string">"/firstPage/"</span>&gt;&lt;button&gt;to First&lt;/button&gt;&lt;/Link&gt;</span><br><span class="line">                &lt;Link to=<span class="string">"/secondPage/"</span>&gt;&lt;button&gt;to Second&lt;/button&gt;&lt;/Link&gt;</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &#123;this.props.children&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> default Local;</span><br></pre></td></tr></table></figure>
<p>然后在component文件夹下面创建两个组件；<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir FirstPage</span><br><span class="line">$ touch FirstPage.js</span><br><span class="line">$ vim FirstPage.js</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//./src/component/FirstPage/FirstPage.js</span><br><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">class FirstPage extends React.Component &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">               我是第一页</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> default FirstPage;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir SecondPage</span><br><span class="line">$ touch SecondPage.js</span><br><span class="line">$ vim SecondPage.js</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//./src/component/SecondPage/SecondPage.js</span><br><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">class SecondPage extends React.Component &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                我是第二页</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">export</span> default SecondPage;</span><br></pre></td></tr></table></figure>
<p>好了，组件和入口文件已经都配置好了，现在就要配置路由了；<br>然后打开在上一次react介绍中创建的src/index.js文件；<br>将代码改成如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">import ReactDOM from <span class="string">'react-dom'</span>;</span><br><span class="line">import RouteMap from <span class="string">'./router/router'</span>;</span><br><span class="line">class App extends React.Component &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">            &lt;RouteMap/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ReactDOM.render(&lt;App/&gt;,document.getElementById(<span class="string">"react-app"</span>))</span><br></pre></td></tr></table></figure></p>
<p>运行一下吧！<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm start</span><br></pre></td></tr></table></figure></p>
<p>补充一个文件的内容mapRouter。(我真的不是故意的！)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import React from <span class="string">'react'</span>;</span><br><span class="line">import Local from <span class="string">"../component/Local"</span>;</span><br><span class="line">import &#123;Router,Route,IndexRoute,browserHistory,IndexRedirect&#125; from <span class="string">'react-router'</span></span><br><span class="line">import FirstPage from <span class="string">"../component/FirstPage/FirstPage"</span>;</span><br><span class="line">import SecondPage from <span class="string">"../component/SecondPage/SecondPage"</span>;</span><br><span class="line">class RouteMap extends React.Component&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span></span>()&#123;</span><br><span class="line">      <span class="built_in">return</span>(</span><br><span class="line">          &lt;Router <span class="built_in">history</span>=&#123;browserHistory&#125;&gt;</span><br><span class="line">              &lt;Route path=<span class="string">'/'</span> component=&#123;Local&#125;&gt;</span><br><span class="line">                  &lt;IndexRoute component=&#123;FirstPage&#125;/&gt;</span><br><span class="line">                  &lt;Route path=<span class="string">'/FirstPage'</span> component=&#123;FirstPage&#125;/&gt;</span><br><span class="line">                  &lt;Route path=<span class="string">'/SecondPage'</span> component=&#123;SecondPage&#125;/&gt;</span><br><span class="line">              &lt;/Route&gt;</span><br><span class="line">          &lt;/Router&gt;</span><br><span class="line">      )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default RouteMap;</span><br></pre></td></tr></table></figure></p>
<p>这里要说明一点的是 hashHistory路由模式是前端锚点控制的，而browserHistroy则是依赖于服务端的，所以你去地址栏刷新页面的时候会找不到页面</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">louis zhang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">louis zhang</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
